/* --- CSS Variables --- */
:root {
    --font-family-main: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --background-color: #FFFFFF;
    --text-color-primary: #1F2937; /* Dark Gray */
    --text-color-secondary: #6B7280; /* Medium Gray */
    --text-color-placeholder: #9CA3AF; /* Lighter Gray */
    --accent-color-primary: #111827; /* Very Dark Blue/Almost Black for buttons */
    --accent-color-secondary: #4F46E5; /* Indigo - if needed for other accents */
    --border-color: #E5E7EB; /* Light Gray for borders */
    --card-background: #FFFFFF;
    --card-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --success-color: #10B981; /* Green */
    --error-color: #EF4444; /* Red */
    --link-color: #3B82F6; /* Blue */

    --header-height: 60px;
    --container-max-width: 1280px;
    --section-padding: 2rem 1rem;
    --card-padding: 1.5rem;
    --border-radius: 0.5rem; /* 8px */
}

/* --- Basic Reset & Globals --- */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-family-main);
    background-color: var(--background-color);
    color: var(--text-color-primary);
    line-height: 1.6;
    font-size: 16px;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

h1, h2, h3, h4, h5, h6 {
    margin-bottom: 0.75em;
    font-weight: 600;
    line-height: 1.3;
}

h1 { font-size: 2.25rem; /* 36px */ }
h2 { font-size: 1.5rem;  /* 24px */ }
h3 { font-size: 1.25rem; /* 20px */ }

p {
    margin-bottom: 1em;
}

a {
    color: var(--link-color);
    text-decoration: none;
}
a:hover {
    text-decoration: underline;
}

/* --- App Header --- */
.app-header {
    background-color: var(--background-color); /* Or a very light grey if distinct from body */
    border-bottom: 1px solid var(--border-color);
    padding: 0 1.5rem;
    height: var(--header-height);
    display: flex;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 1000;
}

.logo-container {
    display: flex;
    align-items: center;
}

.shopos-logo {
    height: 32px; /* Adjust as needed */
    width: auto;
    margin-right: 0.5rem;
}

.logo-text {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-color-primary);
}

/* --- Main Content Area --- */
.main-content {
    flex-grow: 1;
    width: 100%;
    max-width: var(--container-max-width);
    margin: 0 auto;
    padding: 2rem 1rem; /* Top/bottom padding, side padding */
}

.tool-header {
    text-align: center;
    margin-bottom: 2.5rem;
}
.tool-header h1 {
    margin-bottom: 0.25rem;
}
.tool-header .subtitle {
    font-size: 1.125rem; /* 18px */
    color: var(--text-color-secondary);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.section {
    margin-bottom: 2.5rem;
    padding: var(--section-padding);
    background-color: var(--card-background);
    border-radius: var(--border-radius);
    box-shadow: var(--card-shadow);
}
.section:last-child {
    margin-bottom: 0;
}
.url-input-section { /* Special styling for the first input section */
    background-color: transparent;
    box-shadow: none;
    padding: 0;
    display: flex;
    justify-content: center;
    margin-bottom: 2rem;
}

/* --- URL Input Form --- */
.url-form {
    display: flex;
    align-items: center;
    width: 100%;
    max-width: 700px; /* Max width for the input bar */
    background-color: var(--card-background);
    border-radius: calc(var(--border-radius) + 4px); /* Slightly more rounded */
    box-shadow: var(--card-shadow);
    padding: 0.5rem;
    border: 1px solid var(--border-color);
}

.input-wrapper {
    position: relative;
    flex-grow: 1;
    display: flex;
    align-items: center;
}

.input-wrapper .search-icon {
    position: absolute;
    left: 1rem;
    width: 20px;
    height: 20px;
    color: var(--text-color-placeholder);
    pointer-events: none; /* So it doesn't interfere with input click */
}

.url-form input[type="url"] {
    width: 100%;
    padding: 0.875rem 1rem 0.875rem 3rem; /* Left padding for icon */
    font-size: 1rem;
    border: none; /* Border is on the .url-form wrapper */
    border-radius: var(--border-radius);
    background-color: transparent;
    color: var(--text-color-primary);
    outline: none;
}
.url-form input[type="url"]::placeholder {
    color: var(--text-color-placeholder);
}

.action-button {
    background-color: var(--accent-color-primary);
    color: white;
    border: none;
    padding: 0.75rem; /* Make it squarish for icon button */
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: background-color 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 0.5rem; /* Space between input and button */
}
.action-button:hover {
    background-color: #374151; /* Slightly lighter dark */
}
.action-button .button-icon {
    width: 20px;
    height: 20px;
}
.action-button.primary { /* For buttons that are not just icons */
    padding: 0.75rem 1.5rem;
}
.action-button:disabled {
    background-color: var(--text-color-placeholder);
    cursor: not-allowed;
}


/* --- Agent Thinking / Loading Card --- */
.agent-thinking-card {
    max-width: 700px;
    margin: 1.5rem auto; /* Centered */
    padding: var(--card-padding);
    background-color: var(--card-background);
    border-radius: var(--border-radius);
    box-shadow: var(--card-shadow);
    border: 1px solid var(--border-color);
}
.agent-header {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--border-color);
}
.agent-icon {
    width: 28px;
    height: 28px;
    margin-right: 0.75rem;
}
.agent-header h4 {
    margin-bottom: 0;
    font-weight: 500;
}
.checklist {
    list-style: none;
    padding-left: 0;
}
.checklist li {
    display: flex;
    align-items: center;
    padding: 0.5rem 0;
    color: var(--text-color-secondary);
    font-size: 0.9rem;
}
.checklist li span { /* Placeholder for icon */
    width: 20px;
    height: 20px;
    margin-right: 0.75rem;
    border: 1.5px solid var(--border-color);
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}
.checklist li.completed span {
    background-color: var(--success-color);
    border-color: var(--success-color);
    color: white;
}
.checklist li.completed span::after { /* Checkmark */
    content: 'âœ”';
    font-size: 0.8em;
}
.checklist li.pending span {
    /* Optional: could add a spinner or different icon */
}
.checklist li.completed {
    color: var(--text-color-primary);
    font-weight: 500;
}


/* --- Message Styling (Error/Success) --- */
.message {
    padding: 1rem;
    margin: 1rem auto;
    max-width: 700px;
    border-radius: var(--border-radius);
    text-align: center;
}
.error-message {
    background-color: #FEE2E2; /* Light Red */
    color: var(--error-color);
    border: 1px solid var(--error-color);
}
.success-message {
    background-color: #D1FAE5; /* Light Green */
    color: var(--success-color);
    border: 1px solid var(--success-color);
}

/* --- Results Containers --- */
#resultsContainer {
    /* Add any specific styling for the overall results area if needed */
}
.card-display.centered-card { /* For the single main product card */
    max-width: 500px; /* Or adjust as preferred */
    margin-left: auto;
    margin-right: auto;
}
.grid-card-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* Responsive grid */
    gap: 1.5rem;
}
.source-text {
    font-size: 0.9rem;
    color: var(--text-color-secondary);
    text-align: center;
    margin-bottom: 1.5rem;
}

/* --- Forms (Pricing Parameters, Promotion Planner) --- */
.parameters-form {
    display: grid;
    gap: 1.25rem;
    max-width: 600px; /* Or adjust */
    margin: 0 auto; /* Center the form */
}
.parameters-form div { /* Each label-input pair */
    display: flex;
    flex-direction: column;
}
.parameters-form label {
    margin-bottom: 0.375rem;
    font-weight: 500;
    font-size: 0.9rem;
}
.parameters-form input[type="number"],
.parameters-form input[type="text"], /* If you add text inputs */
.parameters-form select {
    padding: 0.75rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    font-size: 1rem;
    background-color: #F9FAFB; /* Slightly off-white input background */
}
.parameters-form input:focus,
.parameters-form select:focus {
    outline: none;
    border-color: var(--accent-color-secondary); /* Or your primary accent */
    box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2); /* Example focus ring */
}
.currency-hint {
    font-weight: normal;
    color: var(--text-color-secondary);
    font-size: 0.85em;
}
.parameters-form .action-button {
    margin-top: 0.5rem; /* Space above button in form */
    justify-self: start; /* Align button to the start of its grid area */
}

/* --- Results Content (Optimization, Promotion) --- */
.results-content {
    background-color: #F9FAFB; /* Light background for results pre/text */
    padding: var(--card-padding);
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
}
.results-content h4 {
    margin-top: 0;
}
.results-content ul {
    list-style: none;
    padding-left: 0;
}
.results-content li {
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--border-color);
}
.results-content li:last-child {
    border-bottom: none;
}
.results-content pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 0.9rem;
}

/* --- Card Styling (Placeholder - will be refined in script.js interaction) --- */
.product-card {
    background-color: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--card-padding);
    box-shadow: var(--card-shadow);
    transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
    display: flex;
    flex-direction: column;
}
.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
}
.product-card img {
    max-width: 100%;
    height: auto;
    max-height: 200px; /* Limit image height */
    object-fit: contain; /* Or 'cover' depending on desired effect */
    border-radius: calc(var(--border-radius) - 4px);
    margin-bottom: 1rem;
    background-color: #f0f0f0; /* Light grey background for images */
}
.no-image {
    height: 150px; /* Placeholder height */
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f0f0f0;
    color: var(--text-color-secondary);
    font-size: 0.9rem;
    border-radius: calc(var(--border-radius) - 4px);
    margin-bottom: 1rem;
}
.product-card h3 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}
.product-card .company {
    font-size: 0.85rem;
    color: var(--text-color-secondary);
    margin-bottom: 0.5rem;
}
.product-card .price {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--accent-color-primary); /* Or a specific price color */
    margin-bottom: 0.75rem;
}
.product-card .description {
    font-size: 0.9rem;
    color: var(--text-color-secondary);
    margin-bottom: 1rem;
    flex-grow: 1; /* Pushes link to bottom if card is flex column */
    overflow: hidden;
    text-overflow: ellipsis;
    /* For multi-line ellipsis (works in some browsers): */
    display: -webkit-box;
    -webkit-line-clamp: 3; /* Number of lines to show */
    -webkit-box-orient: vertical;  
}
.product-card .visit-link {
    display: inline-block;
    background-color: var(--accent-color-primary);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: var(--border-radius);
    text-align: center;
    font-size: 0.9rem;
    font-weight: 500;
    margin-top: auto; /* Pushes link to bottom */
}
.product-card .visit-link:hover {
    background-color: #374151;
    text-decoration: none;
}


/* --- Responsive Adjustments (Basic) --- */
@media (max-width: 768px) {
    .main-content {
        padding: 1.5rem 0.75rem;
    }
    .tool-header h1 {
        font-size: 1.875rem; /* 30px */
    }
    .tool-header .subtitle {
        font-size: 1rem;
    }
    .url-form {
        padding: 0.375rem;
    }
    .url-form input[type="url"] {
        padding: 0.75rem 0.75rem 0.75rem 2.5rem;
    }
    .input-wrapper .search-icon {
        left: 0.75rem;
    }
    .action-button {
        padding: 0.625rem;
    }
    .action-button.primary {
        padding: 0.625rem 1.25rem;
    }
    .grid-card-container {
        grid-template-columns: 1fr; /* Stack cards on smaller screens */
        gap: 1rem;
    }
    .section {
        padding: 1.5rem 1rem;
    }
}